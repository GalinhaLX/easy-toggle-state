/*! easy-toggle-state v1.12.7 | (c) 2020 Matthieu Bu√© <https://twikito.com> | MIT License | https://twikito.github.io/easy-toggle-state/ */
!function(){"use strict";function t(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function e(t){return function(t){if(Array.isArray(t))return n(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return n(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return n(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var r=document.documentElement.getAttribute("data-easy-toggle-state-custom-prefix")||"toggle",i=function(){return r},o=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i();return["data",e,t].filter(Boolean).join("-")},c=o("arrows"),a="aria-checked",u=o("class"),s=o("class-on-target"),l=o("class-on-trigger"),g="is-active",f=o("escape"),h=o("event"),d="aria-expanded",A=o("group"),b="aria-hidden",v=o("is-active"),m=o("modal"),E=o("outside"),p=o("outside-event"),T="aria-pressed",y=o("radio-group"),w="aria-selected",S=o("target"),k=o("target-all"),L=o("target-next"),x=o("target-parent"),O=o("target-previous"),D=o("target-self"),I=o("state"),j=o("trigger-off"),q=new Event("toggleAfter"),C=new Event("toggleBefore"),B=function(t,n){var r=t?"[".concat(t,"]"):"";if(n)return e(n.querySelectorAll(r));var i=["[".concat(u,"]").concat(r),"[".concat(l,"]").concat(r),"[".concat(s,"][").concat(S,"]").concat(r),"[".concat(s,"][").concat(k,"]").concat(r),"[".concat(s,"][").concat(L,"]").concat(r),"[".concat(s,"][").concat(O,"]").concat(r),"[".concat(s,"][").concat(x,"]").concat(r),"[".concat(s,"][").concat(D,"]").concat(r)].join().trim();return e(document.querySelectorAll(i))},Y=function(t,e){return t.dispatchEvent(e)},F=function(e){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(t(n={},a,e.isToggleActive),t(n,d,e.isToggleActive),t(n,b,!e.isToggleActive),t(n,T,e.isToggleActive),t(n,w,e.isToggleActive),n);return Object.keys(r).forEach((function(t){return e.hasAttribute(t)&&e.setAttribute(t,r[t])}))},M=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return"This trigger has the class name '".concat(t,"' filled in both attributes '").concat(u,"' and '").concat(e,"'. As a result, this class will be toggled ").concat(n&&"on its target(s)"," twice at the same time.")},U=function(t,e){return(t.getAttribute(e)||"").split(" ").filter(Boolean)},H=function(t){if(t.hasAttribute(u)&&t.getAttribute(u)&&(t.hasAttribute(l)||t.hasAttribute(s))){var n=U(t,l),r=U(t,s);U(t,u).forEach((function(e){n.includes(e)&&console.warn(M(e,l),t),r.includes(e)&&console.warn(M(e,s,!0),t)}))}var i=[u,l,s].reduce((function(n,r){var i,o,c=U(t,r);return(r===u||r===l)&&(i=n.trigger).push.apply(i,e(c)),(r===u||r===s)&&(o=n.target).push.apply(o,e(c)),n}),{trigger:[],target:[]});return!i.trigger.length&&i.trigger.push(g),!i.target.length&&i.target.push(g),i},K=function(t){var e=t.hasAttribute(A)?A:y;return B("".concat(e,'="').concat(t.getAttribute(e),'"')).filter((function(t){return t.isToggleActive}))},R=function(t,e){t||console.warn("You should fill the attribute '".concat(e,"' with a selector"))},P=function(t,n){if(0===n.length)return console.warn("There's no match with the selector '".concat(t,"' for this trigger")),[];var r=t.match(/#\w+/gi);return r&&r.forEach((function(t){var r=e(n).filter((function(e){return e.id===t.slice(1)}));r.length>1&&console.warn("There's ".concat(r.length," matches with the selector '").concat(t,"' for this trigger"))})),e(n)},$=function(t,e){return e.forEach((function(e){t.classList.toggle(e)}))},z=function(t){return document.addEventListener(t.getAttribute(p)||t.getAttribute(h)||"click",G,!1)},G=function t(e){var n=e.target,r=e.type,i=!1;B(E).filter((function(t){return t.getAttribute(p)===r||t.getAttribute(h)===r&&!t.hasAttribute(p)||"click"===r&&!t.hasAttribute(h)&&!t.hasAttribute(p)})).forEach((function(t){var e=n.closest("["+I+'="true"]');e&&e.easyToggleStateTrigger===t&&(i=!0),!i&&t!==n&&t.isToggleActive&&(t.hasAttribute(A)||t.hasAttribute(y)?Z:W)(t)})),i||document.removeEventListener(r,t,!1),n.hasAttribute(E)&&n.isToggleActive&&z(n)},J=function(t){return W(t.currentTarget.targetElement)},N=function(t){if(t.hasAttribute(E))return t.hasAttribute(y)?console.warn("You can't use '".concat(E,"' on a radio grouped trigger")):t.isToggleActive?z(t):void 0},Q=function(t){var n=e(document.ETSFocusTrapContainer.querySelectorAll("a[href], area[href], input:not([type='hidden']):not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, *[tabindex], *[contenteditable]"));if(n.length&&"Tab"===t.key){var r=t.target,i=n[0],o=n[n.length-1];return-1===n.indexOf(r)?(t.preventDefault(),i.focus()):t.shiftKey&&r===i?(t.preventDefault(),o.focus()):t.shiftKey||r!==o?void 0:(t.preventDefault(),i.focus())}},V=function(t,n,r){return function(t){if(t.hasAttribute(S)||t.hasAttribute(k)){var e=t.getAttribute(S)||t.getAttribute(k);return R(e,t.hasAttribute(S)?S:k),P(e,document.querySelectorAll(e))}if(t.hasAttribute(x)){var n=t.getAttribute(x);return R(n,x),P(n,t.parentElement.querySelectorAll(n))}if(t.hasAttribute(D)){var r=t.getAttribute(D);return R(r,D),P(r,t.querySelectorAll(r))}return t.hasAttribute(O)?P("previous",[t.previousElementSibling].filter(Boolean)):t.hasAttribute(L)?P("next",[t.nextElementSibling].filter(Boolean)):[]}(t).forEach((function(i){var o;(Y(i,C),i.isToggleActive=!i.isToggleActive,F(i),r)?(o=i.classList).add.apply(o,e(n)):$(i,n);t.hasAttribute(E)&&(i.setAttribute(I,t.isToggleActive),i.easyToggleStateTrigger=t),t.hasAttribute(m)&&(i.isToggleActive?(document.ETSFocusTrapContainer=i,document.addEventListener("keydown",Q,!1)):(document.ETSFocusTrapContainer=null,document.removeEventListener("keydown",Q,!1))),Y(i,q),function(t,e){var n=B(j,t);if(0!==n.length)e.isToggleActive?n.forEach((function(t){t.targetElement=e,t.addEventListener("click",J,!1)})):(n.forEach((function(t){t.removeEventListener("click",J,!1)})),e.focus())}(i,t)}))},W=function(t){Y(t,C);var e=H(t);return $(t,e.trigger),t.isToggleActive=!t.isToggleActive,F(t),Y(t,q),V(t,e.target,!1),N(t)},X=function(n){var r,i;Y(n,C);var o=H(n);return(r=n.classList).add.apply(r,e(o.trigger)),n.isToggleActive=!0,F(n,(t(i={},a,!0),t(i,d,!0),t(i,b,!1),t(i,T,!0),t(i,w,!0),i)),Y(n,q),V(n,o.target,!0),N(n)},Z=function(t){var e=K(t);return 0===e.length?W(t):-1===e.indexOf(t)?(e.forEach(W),W(t)):-1===e.indexOf(t)||t.hasAttribute(y)?void 0:W(t)},_=function(){e(document.querySelectorAll("[".concat(s,"]:not([").concat(S,"]):not([").concat(k,"]):not([").concat(L,"]):not([").concat(O,"]):not([").concat(x,"]):not([").concat(D,"])"))).forEach((function(t){console.warn("This trigger has the attribute '".concat(s,"', but no specified target\n"),t)})),B(v).filter((function(t){return!t.isETSDefInit})).forEach((function(t){return t.hasAttribute(A)||t.hasAttribute(y)?K(t).length>0?console.warn("Toggle group '".concat(t.getAttribute(A)||t.getAttribute(y),"' must not have more than one trigger with '").concat(v,"'")):(X(t),void(t.isETSDefInit=!0)):X(t)}));var t=B().filter((function(t){return!t.isETSInit}));return t.forEach((function(t){t.addEventListener(t.getAttribute(h)||"click",(function(e){e.preventDefault(),(t.hasAttribute(A)||t.hasAttribute(y)?Z:W)(t)}),!1),t.isETSInit=!0})),B(f).length>0&&!document.isETSEscInit&&(document.addEventListener("keydown",(function(t){"Escape"!==t.key&&"Esc"!==t.key||B(f).forEach((function(t){if(t.isToggleActive)return t.hasAttribute(y)?console.warn("You can't use '".concat(f,"' on a radio grouped trigger")):(t.hasAttribute(A)?Z:W)(t)}))}),!1),document.isETSEscInit=!0),B(c).length>0&&!document.isETSArrInit&&(document.addEventListener("keydown",(function(t){var e=document.activeElement;if(-1!==["ArrowUp","ArrowDown","ArrowLeft","ArrowRight","Home","End"].indexOf(t.key)&&(e.hasAttribute(u)||e.hasAttribute(l)||e.hasAttribute(s))&&e.hasAttribute(c)){if(!e.hasAttribute(A)&&!e.hasAttribute(y))return console.warn("You can't use '".concat(c,"' on a trigger without '").concat(A,"' or '").concat(y,"'"));t.preventDefault();var n=e.hasAttribute(A)?B("".concat(A,"='").concat(e.getAttribute(A),"'")):B("".concat(y,"='").concat(e.getAttribute(y),"'")),r=e;switch(t.key){case"ArrowUp":case"ArrowLeft":r=n.indexOf(e)>0?n[n.indexOf(e)-1]:n[n.length-1];break;case"ArrowDown":case"ArrowRight":r=n.indexOf(e)<n.length-1?n[n.indexOf(e)+1]:n[0];break;case"Home":r=n[0];break;case"End":r=n[n.length-1]}return r.focus(),r.dispatchEvent(new Event(r.getAttribute(h)||"click"))}}),!1),document.isETSArrInit=!0),t};document.addEventListener("DOMContentLoaded",(function t(){_(),document.removeEventListener("DOMContentLoaded",t)})),window.initEasyToggleState=_}();
